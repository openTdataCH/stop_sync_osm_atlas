%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                             %
%% HEPIA BACHELOR THESIS LATEX TEMPLATE                                        %
%% version 0.10 - 2020/04/25                                                    %
%%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage[cm]
			{fullpage}	% Set margins to full page
\usepackage[a4paper,includeheadfoot,margin=2.5cm]{geometry}
%\usepackage[a4paper,includehead,includefoot,top=2.1cm,bottom=2.5cm,right=2.5cm,left=2.5cm]{geometry}
\usepackage{lmodern}	% latin Modern font (FALLBACK FONT)
% biblatex removed - using custom reference system
\usepackage{caption}
\usepackage{csquotes}
\captionsetup{labelfont=sc}
% You can change names of table and figure here
\def\frenchtablename{Tableau} 
\def\frenchfigurename{Illustration} 

\usepackage{float}
\usepackage{tikz}		% Image and drawing related package - TITLE PAGE
\usepackage{setspace}	% Custom spacing package            - TITLE PAGE
\usepackage{array}		% Array related package				- TITLE PAGE
\usepackage{helvet}		% Helvetica font ~ Arial			- TITLE PAGE
\usepackage{mathptmx}	% Times font ~ Times New Roman
\usepackage{subcaption}
\usepackage{placeins}
\usepackage{carlito}	% Calibri replacement font
\usepackage[scaled=0.85]
			{beramono}	% Vera mononspace {fvm}

%% This defines the default sans serif, roman and monospace fonts
\renewcommand{\sfdefault}{phv}	% helvetica as sans serif font
\renewcommand{\rmdefault}{ptm}	% times as roman (serif) font
\renewcommand{\ttdefault}{fvm}	% Vera mononspace as monospace font
\usepackage{bold-extra}	% Allow custom typsettings horrors like bold Small Caps
\usepackage{slantsc}	% Allow custom typsettings horrors like bold Small Caps

\usepackage[bigcaptions]
			{listing}	% listing related package
\usepackage{listings}	% listing related package
% Allow UTF-8 in listings and map common accented characters
\usepackage{listingsutf8}
\lstset{inputencoding=utf8,
  literate=
    {é}{{\'e}}1 {è}{{\`e}}1 {ê}{{\^e}}1 {ë}{{\"e}}1
    {à}{{\`a}}1 {â}{{\^a}}1 {ä}{{\"a}}1
    {î}{{\^\i}}1 {ï}{{\"\i}}1
    {ô}{{\^o}}1 {ö}{{\"o}}1
    {ù}{{\`u}}1 {û}{{\^u}}1 {ü}{{\"u}}1
    {ç}{{\c c}}1
    {É}{{\'E}}1 {È}{{\`E}}1 {Ê}{{\^E}}1 {Ë}{{\"E}}1
    {À}{{\`A}}1 {Â}{{\^A}}1 {Ä}{{\"A}}1
    {Î}{{\^I}}1 {Ï}{{\"I}}1
    {Ô}{{\^O}}1 {Ö}{{\"O}}1
    {Ù}{{\`U}}1 {Û}{{\^U}}1 {Ü}{{\"U}}1
    {Œ}{{\OE}}1 {œ}{{\oe}}1
    {≤}{{$\leq$}}1 {≥}{{$\geq$}}1
    {—}{{---}}1 {–}{{--}}1 {…}{{\ldots}}1
}
\usepackage{titletoc}
%\usepackage{tocbibind}	% TOC related package
\usepackage[titles]
			{tocloft}	% TOC related package - here to add dots to chapter leader in TOC
\renewcommand{\cftchapleader}{\cftdotfill{\cftdotsep}}
\usepackage{lipsum}		% Lorem Ipsum generator

\usepackage{fancyhdr}
\usepackage{graphicx}	
\usepackage{color}
\usepackage{xcolor}
\usepackage{chngcntr}	% counter related package
%\usepackage{emptypage}	% adds blank pages without number, but keeps page numbering going on
\usepackage{tcolorbox}
% tcolorbox libraries for code/command blocks
\tcbuselibrary{listings,skins,breakable}
\usepackage{booktabs}
\usepackage{tabularx}
\graphicspath{{figures/}}

\usepackage[acronym,toc,shortcuts,hyperfirst=true]{glossaries}
\makenoidxglossaries

\glsenablehyper
\renewcommand*{\glstextformat}[1]{\textcolor{darkblue}{#1}}

\usepackage[htt]
			{hyphenat}	% hyphenation related package
\usepackage[hyperfootnotes=true,
			linkcolor=darkgray,
			citecolor=black,
			filecolor=black,
			pagecolor=black,
			urlcolor=darkblue,
			linktoc=all,
			bookmarks=true,
			pdfborder={0 0 0},
			pdfdisplaydoctitle=true,
			pdftoolbar=true,
			pdfmenubar=true,
			pdfstartview=X Y Z,
			pdfstartpage=1,
			breaklinks]
			{hyperref}	% URL and hyperlinks configuration, with hard break if too long lines
			
\usepackage{url}
% Footnotes and URL-to-footnote helpers (academic style)
\usepackage[bottom,hang,flushmargin]{footmisc}
\setlength{\footnotesep}{0.8\baselineskip}
% Put URLs in footnotes while keeping clickable anchor text in the body
\newcommand{\hrefnote}[2]{\href{#1}{#2}\footnote{\url{#1}}}
\newcommand{\urlnote}[1]{\footnote{\url{#1}}}
\sloppy % helps with url hyphenation if we no not use xurl.
%% IF YOUR URLS LOOK UGLY AND WAY TO LONG, UNCOMMENT THE LINE BELOW AND __DO NOT__ USE OVERLEAF, WHICH DOESN'T SUPPORT EXTENDED LATEX PACKAGES
%\usepackage{xurl}
\usepackage{numprint}	% number notation related package, e.g 10'000'000
%\usepackage{amsmath}	% math related package

\counterwithout{footnote}{chapter}

% ==================== Custom Reference System ====================
% Packages needed for custom reference system
\usepackage{xparse}
\usepackage{etoolbox}
\usepackage{refcount}

% Counters and commands for custom reference system
\newcounter{customrefcounter}
\newcommand{\customreflist}{}
\newcommand{\pagefootnotes}{}

% Command to define a reference with its number
\NewDocumentCommand{\defref}{m m}{%
  \stepcounter{customrefcounter}%
  \expandafter\xdef\csname refnum@#1\endcsname{\thecustomrefcounter}%
  \csgdef{refcite@#1}{#2}%
}

% Command to cite a reference
\NewDocumentCommand{\citeref}{m}{%
  \ifcsdef{refnum@#1}{%
    % Reference exists, get its number
    \edef\refnumber{\csuse{refnum@#1}}%
    % Check if we've footnoted this on current page
    \ifcsdef{footnoted@#1@\thepage}{%
      % Already footnoted on this page, just show number
      \textsuperscript{\refnumber}%
    }{%
      % First time on this page, create footnote with custom number
      \textsuperscript{\refnumber}\footnotetext[\refnumber]{\csuse{refcite@#1}}%
      \csgdef{footnoted@#1@\thepage}{true}%
    }%
  }{%
    \textbf{??} % Reference not defined
  }%
}
% ================================================================

\usepackage{setspace}	% linespacing related package

\definecolor{codebg}{rgb}{0.98,0.98,0.98}
\definecolor{sectcol}{rgb}{0.094,0.184,0.486}
\definecolor{darkgray}{rgb}{0.2,0.2,0.2}
\definecolor{darkblue}{rgb}{0.2,0.2,0.4}

% ==================== Code and Command Blocks ====================
% Rounded, shaded boxes for code listings and shell commands
\newtcblisting{codebox}[2][]{
  listing only,
  breakable,
  arc=2mm,
  boxrule=0.25mm,
  colback=codebg,
  colframe=darkgray,
  title={#2},
  listing options={
    inputencoding=utf8,
    basicstyle=\ttfamily\footnotesize,
    numbers=left,
    numberstyle=\tiny\color{darkgray},
    stepnumber=1,
    numbersep=6pt,
    showstringspaces=false,
    columns=fullflexible,
    keepspaces=true,
    tabsize=2,
    breaklines=true,
    #1
  }
}

\newtcblisting{cmdbox}[1][]{
  listing only,
  breakable,
  arc=2mm,
  boxrule=0.25mm,
  colback=codebg,
  colframe=darkgray,
  title={Commande},
  listing options={
    language=bash,
    inputencoding=utf8,
    basicstyle=\ttfamily\footnotesize,
    numbers=left,
    numberstyle=\tiny\color{darkgray},
    stepnumber=1,
    numbersep=6pt,
    showstringspaces=false,
    columns=fullflexible,
    keepspaces=true,
    tabsize=2,
    breaklines=true,
    #1
  }
}
% ================================================================

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% CUSTOM TOC %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% This defines the way section and subsections are numbered.
%% Uncomment to have section numbered without chapter number
% \renewcommand\thesection{\arabic{section}}
% having subsections numbered with letters
\renewcommand{\thesubsection}{\alph{subsection}}

%% This allows you to tweak the depth numbering of the TOC and the sections
\setcounter{tocdepth}{3}	% TOC depth numbering set to 3
\setcounter{secnumdepth}{3}	% section depth numbering set to 3
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% /CUSTOM TOC %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% CUSTOM CHAPTER TITLES %%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{titlesec}

\titleformat{\chapter}[hang]{\fontsize{15.5}{18.7}\centering\bfseries\scshape}{}{1pc}{}
\titleformat{name=\chapter,numberless}[hang]{\fontsize{15.5}{18.7}\centering \selectfont \bfseries\scshape}{}{1pc}{}
\titlespacing{\chapter}{0pc}{-0.44cm}{0.64cm}
\titleformat{\section}[hang] {\fontsize{13.5}{16.7}\bfseries\scshape}{\thesection.}{1pc}{}[]
\titlespacing{\section}{0pc}{6pt}{5pt}
\titleformat{\subsection}[hang] {\bfseries\large}{\hspace*{1em} \thesubsection.}{1pc}{}
\titlespacing{\subsection}{0pc}{4pt}{15pt}
\titleformat{\subsubsection}[hang] {\bfseries\large}{\hspace*{2em} \thesubsubsection.}{1pc}{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% /CUSTOM CHAPTER TITLES %%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{xcolor}
\definecolor{darkgreen}{RGB}{0,100,0}
\author{\Author}
\title{\Title}
